<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœŸå®åšå®¢ç®¡ç†åå°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .header h1 {
            color: #007cba;
            margin-bottom: 10px;
        }
        
        .nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .nav button {
            background: #007cba;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .nav button:hover {
            background: #005a87;
        }
        
        .nav button.active {
            background: #005a87;
        }
        
        .content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-group textarea {
            min-height: 200px;
            resize: vertical;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        
        .btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        
        .btn:hover {
            background: #218838;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #545b62;
        }
        
        .btn-danger {
            background: #dc3545;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .article-list {
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .article-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .article-item:last-child {
            border-bottom: none;
        }
        
        .article-title {
            font-weight: 500;
            color: #007cba;
        }
        
        .article-meta {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .article-actions {
            display: flex;
            gap: 5px;
        }
        
        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
        }
        
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .config-section {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 4px;
        }
        
        .config-section h3 {
            margin-bottom: 15px;
            color: #007cba;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .preview {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .preview h1, .preview h2, .preview h3 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .preview p {
            margin-bottom: 10px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ çœŸå®åšå®¢ç®¡ç†åå°</h1>
            <p>è¿™ä¸ªåå°å¯ä»¥çœŸæ­£ç®¡ç†ä½ çš„åšå®¢å†…å®¹</p>
        </div>
        
        <div class="nav">
            <button class="nav-btn active" onclick="showSection('create')">âœï¸ åˆ›å»ºæ–‡ç« </button>
            <button class="nav-btn" onclick="showSection('manage')">ğŸ“„ ç®¡ç†æ–‡ç« </button>
            <button class="nav-btn" onclick="showSection('config')">âš™ï¸ ç½‘ç«™é…ç½®</button>
            <button class="nav-btn" onclick="showSection('deploy')">ğŸš€ éƒ¨ç½²æŒ‡å—</button>
        </div>
        
        <div id="alert-container"></div>
        
        <!-- åˆ›å»ºæ–‡ç«  -->
        <div id="create" class="content section active">
            <h2>âœï¸ åˆ›å»ºæ–°æ–‡ç« </h2>
            <p>åˆ›å»ºæ–°çš„åšå®¢æ–‡ç« ï¼Œæ”¯æŒ Markdown æ ¼å¼</p>
            
            <form id="create-article-form">
                <div class="form-group">
                    <label for="title">æ–‡ç« æ ‡é¢˜ *</label>
                    <input type="text" id="title" name="title" required placeholder="è¾“å…¥æ–‡ç« æ ‡é¢˜">
                </div>
                
                <div class="form-group">
                    <label for="categories">åˆ†ç±»</label>
                    <input type="text" id="categories" name="categories" placeholder="ä¾‹å¦‚ï¼šæŠ€æœ¯ã€ç”Ÿæ´»ã€éšç¬”">
                </div>
                
                <div class="form-group">
                    <label for="tags">æ ‡ç­¾</label>
                    <input type="text" id="tags" name="tags" placeholder="ç”¨é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ï¼šJavaScript,å‰ç«¯,æ•™ç¨‹">
                </div>
                
                <div class="form-group">
                    <label for="cover">å°é¢å›¾ç‰‡URL</label>
                    <input type="text" id="cover" name="cover" placeholder="å›¾ç‰‡URLï¼ˆå¯é€‰ï¼‰">
                </div>
                
                <div class="form-group">
                    <label for="content">æ–‡ç« å†…å®¹ (Markdown) *</label>
                    <textarea id="content" name="content" placeholder="åœ¨è¿™é‡Œå†™ä½ çš„æ–‡ç« å†…å®¹ï¼Œæ”¯æŒ Markdown æ ¼å¼..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="recommend" name="recommend"> æ¨èæ–‡ç« 
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="top" name="top"> ç½®é¡¶æ–‡ç« 
                    </label>
                </div>
                
                <button type="submit" class="btn">ğŸ“ ç”Ÿæˆæ–‡ç« æ–‡ä»¶</button>
                <button type="button" class="btn btn-secondary" onclick="previewArticle()">ğŸ‘ï¸ é¢„è§ˆ</button>
                <button type="button" class="btn btn-secondary" onclick="clearForm()">æ¸…ç©ºè¡¨å•</button>
            </form>
            
            <div id="preview-container" style="display: none;">
                <h3>æ–‡ç« é¢„è§ˆ</h3>
                <div id="preview-content" class="preview"></div>
            </div>
            
            <div id="generated-file" style="display: none;">
                <h3>ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹</h3>
                <div id="file-content" class="code-block"></div>
                <div class="alert alert-info">
                    <strong>ä¸‹ä¸€æ­¥æ“ä½œï¼š</strong>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>å¤åˆ¶ä¸Šé¢çš„å†…å®¹</li>
                        <li>åœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”çš„ Markdown æ–‡ä»¶</li>
                        <li>å°†å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶ä¸­</li>
                        <li>æäº¤åˆ° Git ä»“åº“</li>
                        <li>ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <!-- ç®¡ç†æ–‡ç«  -->
        <div id="manage" class="content section">
            <h2>ğŸ“„ ç®¡ç†æ–‡ç« </h2>
            <p>ç®¡ç†ç°æœ‰çš„åšå®¢æ–‡ç« </p>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ æç¤ºï¼š</strong> æ–‡ç« ç®¡ç†éœ€è¦é€šè¿‡ Git è¿›è¡Œã€‚ä½ å¯ä»¥ï¼š
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>åœ¨æœ¬åœ°ç¼–è¾‘ <code>src/content/blog/</code> ç›®å½•ä¸‹çš„æ–‡ä»¶</li>
                    <li>ä½¿ç”¨ GitHub ç½‘é¡µç¼–è¾‘å™¨</li>
                    <li>ä½¿ç”¨ VS Code ç­‰ç¼–è¾‘å™¨</li>
                </ul>
            </div>
            
            <div class="config-section">
                <h3>ğŸ“ æ–‡ç« ç›®å½•ç»“æ„</h3>
                <div class="code-block">
src/content/blog/
â”œâ”€â”€ 2024-01-15-æ–‡ç« æ ‡é¢˜.md
â”œâ”€â”€ 2024-01-16-å¦ä¸€ç¯‡æ–‡ç« .md
â””â”€â”€ ...
                </div>
            </div>
            
            <div class="config-section">
                <h3>ğŸ”§ å¿«é€Ÿæ“ä½œ</h3>
                <button class="btn" onclick="openGitHub()">ğŸ“‚ æ‰“å¼€ GitHub ä»“åº“</button>
                <button class="btn btn-secondary" onclick="showLocalCommands()">ğŸ’» æ˜¾ç¤ºæœ¬åœ°å‘½ä»¤</button>
            </div>
        </div>
        
        <!-- ç½‘ç«™é…ç½® -->
        <div id="config" class="content section">
            <h2>âš™ï¸ ç½‘ç«™é…ç½®</h2>
            <p>é…ç½®ç½‘ç«™çš„åŸºæœ¬ä¿¡æ¯</p>
            
            <div class="config-grid">
                <div class="config-section">
                    <h3>åŸºæœ¬ä¿¡æ¯</h3>
                    <div class="form-group">
                        <label for="site-title">ç½‘ç«™æ ‡é¢˜</label>
                        <input type="text" id="site-title" value="æˆ‘çš„åšå®¢">
                    </div>
                    <div class="form-group">
                        <label for="site-description">ç½‘ç«™æè¿°</label>
                        <textarea id="site-description" rows="3">æˆ‘çš„ä¸ªäººåšå®¢</textarea>
                    </div>
                    <div class="form-group">
                        <label for="author">ä½œè€…</label>
                        <input type="text" id="author" value="åšä¸»">
                    </div>
                    <button class="btn" onclick="generateConfig()">ğŸ”§ ç”Ÿæˆé…ç½®æ–‡ä»¶</button>
                </div>
                
                <div class="config-section">
                    <h3>å¯¼èˆªè®¾ç½®</h3>
                    <div class="form-group">
                        <label for="nav-items">å¯¼èˆªèœå•</label>
                        <textarea id="nav-items" rows="5" placeholder="æ¯è¡Œä¸€ä¸ªèœå•é¡¹ï¼Œæ ¼å¼ï¼šæ˜¾ç¤ºåç§°|é“¾æ¥åœ°å€">å…³äº|/about
æ–‡ç« |/articles
è”ç³»|/contact</textarea>
                    </div>
                </div>
            </div>
            
            <div id="config-output" style="display: none;">
                <h3>ç”Ÿæˆçš„é…ç½®æ–‡ä»¶</h3>
                <div id="config-content" class="code-block"></div>
            </div>
        </div>
        
        <!-- éƒ¨ç½²æŒ‡å— -->
        <div id="deploy" class="content section">
            <h2>ğŸš€ éƒ¨ç½²æŒ‡å—</h2>
            <p>å¦‚ä½•éƒ¨ç½²ä½ çš„åšå®¢æ›´æ–°</p>
            
            <div class="config-section">
                <h3>ğŸ“‹ éƒ¨ç½²æ­¥éª¤</h3>
                <ol style="margin-left: 20px;">
                    <li><strong>æœ¬åœ°å¼€å‘</strong>
                        <div class="code-block">
# å…‹éš†ä»“åº“
git clone https://github.com/ä½ çš„ç”¨æˆ·å/jade-t.git
cd jade-t

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
                        </div>
                    </li>
                    
                    <li><strong>åˆ›å»ºæ–‡ç« </strong>
                        <div class="code-block">
# ä½¿ç”¨è„šæœ¬åˆ›å»ºæ–‡ç« 
node script/create-post.js "æ–‡ç« æ ‡é¢˜"

# æˆ–è€…æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶
# åœ¨ src/content/blog/ ç›®å½•ä¸‹åˆ›å»º .md æ–‡ä»¶
                        </div>
                    </li>
                    
                    <li><strong>æäº¤æ›´æ”¹</strong>
                        <div class="code-block">
# æ·»åŠ æ–‡ä»¶
git add .

# æäº¤æ›´æ”¹
git commit -m "æ·»åŠ æ–°æ–‡ç« "

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push
                        </div>
                    </li>
                    
                    <li><strong>è‡ªåŠ¨éƒ¨ç½²</strong>
                        <p>Netlify ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ”¹å¹¶é‡æ–°éƒ¨ç½²ä½ çš„ç½‘ç«™</p>
                    </li>
                </ol>
            </div>
            
            <div class="config-section">
                <h3>ğŸ”— æœ‰ç”¨çš„é“¾æ¥</h3>
                <ul style="margin-left: 20px;">
                    <li><a href="https://github.com/uxiaohu/jade-t" target="_blank">GitHub ä»“åº“</a></li>
                    <li><a href="https://jade-t.netlify.app" target="_blank">åšå®¢ç½‘ç«™</a></li>
                    <li><a href="https://app.netlify.com" target="_blank">Netlify æ§åˆ¶å°</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºä¸åŒçš„éƒ¨åˆ†
        function showSection(sectionId) {
            // éšè—æ‰€æœ‰éƒ¨åˆ†
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰å¯¼èˆªæŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„éƒ¨åˆ†
            document.getElementById(sectionId).classList.add('active');
            
            // è®¾ç½®å¯¼èˆªæŒ‰é’®çš„æ´»è·ƒçŠ¶æ€
            event.target.classList.add('active');
        }
        
        // æ˜¾ç¤ºæç¤ºä¿¡æ¯
        function showAlert(message, type = 'success') {
            const alertContainer = document.getElementById('alert-container');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            
            alertContainer.appendChild(alert);
            
            // 3ç§’åè‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }
        
        // æ¸…ç©ºè¡¨å•
        function clearForm() {
            document.getElementById('create-article-form').reset();
            document.getElementById('preview-container').style.display = 'none';
            document.getElementById('generated-file').style.display = 'none';
            showAlert('è¡¨å•å·²æ¸…ç©º');
        }
        
        // é¢„è§ˆæ–‡ç« 
        function previewArticle() {
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;
            
            if (!title || !content) {
                showAlert('è¯·å¡«å†™æ ‡é¢˜å’Œå†…å®¹', 'error');
                return;
            }
            
            const previewContent = document.getElementById('preview-content');
            previewContent.innerHTML = `
                <h1>${title}</h1>
                <div>${marked.parse(content)}</div>
            `;
            
            document.getElementById('preview-container').style.display = 'block';
            showAlert('é¢„è§ˆå·²ç”Ÿæˆ');
        }
        
        // ç”Ÿæˆé…ç½®æ–‡ä»¶
        function generateConfig() {
            const title = document.getElementById('site-title').value;
            const description = document.getElementById('site-description').value;
            const author = document.getElementById('author').value;
            const navItems = document.getElementById('nav-items').value;
            
            const config = `export default {
  Title: '${title}',
  Site: 'https://jade-t.netlify.app',
  Subtitle: '${description}',
  Description: '${description}',
  Author: '${author}',
  // ... å…¶ä»–é…ç½®
}`;
            
            document.getElementById('config-content').textContent = config;
            document.getElementById('config-output').style.display = 'block';
            showAlert('é…ç½®æ–‡ä»¶å·²ç”Ÿæˆ');
        }
        
        // æ‰“å¼€ GitHub
        function openGitHub() {
            window.open('https://github.com/uxiaohu/jade-t', '_blank');
        }
        
        // æ˜¾ç¤ºæœ¬åœ°å‘½ä»¤
        function showLocalCommands() {
            const commands = `# æœ¬åœ°å¼€å‘å‘½ä»¤
pnpm dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm preview      # é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

# æ–‡ç« ç®¡ç†å‘½ä»¤
node script/create-post.js "æ–‡ç« æ ‡é¢˜"  # åˆ›å»ºæ–°æ–‡ç« 
git add .                            # æ·»åŠ æ›´æ”¹
git commit -m "æ›´æ–°å†…å®¹"              # æäº¤æ›´æ”¹
git push                             # æ¨é€åˆ°è¿œç¨‹ä»“åº“`;
            
            showAlert('æœ¬åœ°å‘½ä»¤å·²å¤åˆ¶åˆ°æ§åˆ¶å°', 'info');
            console.log(commands);
        }
        
        // è¡¨å•æäº¤
        document.getElementById('create-article-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const title = formData.get('title');
            const categories = formData.get('categories') || 'æŠ€æœ¯';
            const tags = formData.get('tags') || 'æ ‡ç­¾1,æ ‡ç­¾2';
            const cover = formData.get('cover') || '';
            const content = formData.get('content');
            const recommend = formData.get('recommend') ? 'true' : 'false';
            const top = formData.get('top') ? 'true' : 'false';
            
            if (!title || !content) {
                showAlert('è¯·å¡«å†™æ ‡é¢˜å’Œå†…å®¹', 'error');
                return;
            }
            
            // ç”Ÿæˆæ–‡ç« ID
            const id = title.toLowerCase()
                .replace(/[^a-z0-9\u4e00-\u9fa5]/g, '-')
                .replace(/-+/g, '-')
                .replace(/^-|-$/g, '');
            
            // ç”Ÿæˆå½“å‰æ—¥æœŸ
            const now = new Date();
            const date = now.toISOString().split('T')[0];
            const time = now.toISOString().split('T')[1].split('.')[0];
            
            // ç”Ÿæˆæ–‡ç« å†…å®¹
            const tagsArray = tags.split(',').map(tag => `  - ${tag.trim()}`).join('\n');
            
            const articleContent = `---
title: "${title}"
categories: ${categories}
tags:
${tagsArray}
id: "${id}"
date: "${date} ${time}"
updated: "${date} ${time}"
cover: "${cover}"
recommend: ${recommend}
top: ${top}
hide: false
---

${content}`;
            
            // æ˜¾ç¤ºç”Ÿæˆçš„æ–‡ä»¶å†…å®¹
            document.getElementById('file-content').textContent = articleContent;
            document.getElementById('generated-file').style.display = 'block';
            
            showAlert(`æ–‡ç«  "${title}" ç”ŸæˆæˆåŠŸï¼è¯·å¤åˆ¶å†…å®¹å¹¶åˆ›å»ºæ–‡ä»¶ã€‚`);
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            showAlert('çœŸå®ç®¡ç†åå°åŠ è½½å®Œæˆï¼ç°åœ¨ä½ å¯ä»¥çœŸæ­£ç®¡ç†åšå®¢å†…å®¹äº†ã€‚');
        });
        
        // ç®€å•çš„ Markdown è§£æå™¨ï¼ˆç”¨äºé¢„è§ˆï¼‰
        const marked = {
            parse: function(text) {
                return text
                    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                    .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
                    .replace(/\*(.*)\*/gim, '<em>$1</em>')
                    .replace(/\n/gim, '<br>');
            }
        };
    </script>
</body>
</html>
